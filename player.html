<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title></title>
  <style>
    body {
      background-color: black;
    }
    
    video {
      width: 100%;
      margin: 5vh auto;
      display: block;
    }

/* ë‚´ì¥ ì»¨íŠ¸ë¡¤ ì™„ì „ ìˆ¨ê¸°ê¸° */
    /* 1. WebKit(Chrome/Safari) */
video::-webkit-media-controls-enclosure,
video::-webkit-media-controls-panel,
video::-webkit-media-controls-overlay-play-button,
video::-webkit-media-controls-timeline,
video::-webkit-media-controls-current-time-display,
video::-webkit-media-controls-play-button {
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* 2. Firefox */
video::-moz-media-controls {
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* 3. ëª¨ë“  ë¸Œë¼ìš°ì € ê³µí†µ: 
      controls í¬ê¸°ë¥¼ 0ìœ¼ë¡œ ì¶•ì†Œí•´ë²„ë¦¬ëŠ” ë°©ë²•ë„ ìˆìŠµë‹ˆë‹¤ */
video[controls] {
  /* ì•„ì˜ˆ ì»¨íŠ¸ë¡¤ UIìš© ê³µê°„ì„ 0ìœ¼ë¡œ ì¤„ì´ê¸° */
  --media-controls-height: 0px;
}


  </style>
</head>
<body>
  <video id="videoPlayer" autoplay loop muted playsinline></video>

  <script src="js/mqttws31.js"></script>
  <script src="js/TTContainer_v1.0.0.js"></script>
  <script>
    const projectCode = "sample";

ttContainer.mqttConnect(
  projectCode,
  TOPIC_TYPE.DISPLAY,            // êµ¬ë…ìš© í† í”½
  () => {
    console.log("ğŸŸ¢ MQTT ì—°ê²° ì„±ê³µ (DISPLAY)");
    // ë©”ì‹œì§€ ìˆ˜ì‹  í•¸ë“¤ëŸ¬
    ttContainer.onMessage = message => {
      const url   = message.trim();
      const video = document.getElementById("player");
      video.src   = url;
      video.load();
      video.play()
        .then(() => { video.muted = false; })
        .catch(err => console.error("ìë™ ì¬ìƒ ì°¨ë‹¨ë¨:", err));
    };
  },
  {
    // â† ì´ ì˜µì…˜ ë¸”ë¡ì´ mqttConnect ì˜ 4ë²ˆì§¸ ì¸ìì—¬ì•¼ í•©ë‹ˆë‹¤.
    brokerUrl: "wss://broker.hivemq.com:8000/mqtt"
  }
);

  </script>
</body>
</html>
